import requests
import random

def get_fact():
    """
    –ü–æ–ª—É—á–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç
    """
    facts = [
        "–û—Å—å–º–∏–Ω–æ–≥ –∏–º–µ–µ—Ç —Ç—Ä–∏ —Å–µ—Ä–¥—Ü–∞.",
        "–°–µ—Ä–¥—Ü–µ –∫–∏—Ç–∞ –±—å–µ—Ç—Å—è –≤—Å–µ–≥–æ 9 —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É.",
        "–ú–µ–¥ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—Ä—Ç–∏—Ç—Å—è. –ê—Ä—Ö–µ–æ–ª–æ–≥–∏ –Ω–∞—Ö–æ–¥–∏–ª–∏ –º–µ–¥ –≤ –¥—Ä–µ–≤–Ω–µ–µ–≥–∏–ø–µ—Ç—Å–∫–∏—Ö –≥—Ä–æ–±–Ω–∏—Ü–∞—Ö, –∏ –æ–Ω –±—ã–ª —Å—ä–µ–¥–æ–±–µ–Ω.",
        "–ë–∞–Ω–∞–Ω - —ç—Ç–æ —è–≥–æ–¥–∞, –∞ –∫–ª—É–±–Ω–∏–∫–∞ - –Ω–µ—Ç.",
        "–í –Ø–ø–æ–Ω–∏–∏ –µ—Å—Ç—å –±–æ–ª–µ–µ 50 000 —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–º –±–æ–ª—å—à–µ 100 –ª–µ—Ç.",
        "–ö—Ä–æ–∫–æ–¥–∏–ª—ã –Ω–µ –º–æ–≥—É—Ç –≤—ã—Å–æ–≤—ã–≤–∞—Ç—å —è–∑—ã–∫.",
        "–°—É–º—á–∞—Ç—ã–µ –º–µ–¥–≤–µ–¥–∏ –∫–æ–∞–ª–∞ –∏–º–µ—é—Ç –æ—Ç–ø–µ—á–∞—Ç–∫–∏ –ø–∞–ª—å—Ü–µ–≤, –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º."
    ]
    return random.choice(facts)

def get_quote():
    """
    –ü–æ–ª—É—á–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ü–∏—Ç–∞—Ç—É
    """
    # Fallback —Ü–∏—Ç–∞—Ç—ã –µ—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
    fallback_quotes = [
        "–õ—É—á—à–µ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º –≤ —Ö–æ—Ä–æ—à–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, —á–µ–º –Ω–∞–¥–µ—è—Ç—å—Å—è –Ω–∞ –æ—Ç–ª–∏—á–Ω—ã–π. ‚Äî –ë–∏–ª–ª –ì–µ–π—Ç—Å",
        "–ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ –¥–ª–∏–Ω–Ω—ã–π –∑–∞–±–µ–≥, —ç—Ç–æ –º–Ω–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–±–µ–≥–æ–≤ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º. ‚Äî –£–æ–ª—Ç–µ—Ä –≠–ª–ª–∏–æ—Ç",
        "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–ª–∞—Ç—å –≤–µ–ª–∏–∫–∏–µ –¥–µ–ª–∞ ‚Äî –ª—é–±–∏—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å. ‚Äî –°—Ç–∏–≤ –î–∂–æ–±—Å",
        "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –æ—Ç –æ–¥–Ω–æ–π –Ω–µ—É–¥–∞—á–∏ –∫ –¥—Ä—É–≥–æ–π, –Ω–µ —Ç–µ—Ä—è—è —ç–Ω—Ç—É–∑–∏–∞–∑–º–∞. ‚Äî –£–∏–Ω—Å—Ç–æ–Ω –ß–µ—Ä—á–∏–ª–ª—å",
        "–ë—É–¥—É—â–µ–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–º, –∫—Ç–æ –≤–µ—Ä–∏—Ç –≤ –∫—Ä–∞—Å–æ—Ç—É —Å–≤–æ–∏—Ö –º–µ—á—Ç–∞–Ω–∏–π. ‚Äî –≠–ª–µ–æ–Ω–æ—Ä–∞ –†—É–∑–≤–µ–ª—å—Ç",
        "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–ª–∞—Ç—å –≤–µ–ª–∏–∫–∏–µ –¥–µ–ª–∞ ‚Äî –ª—é–±–∏—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å. ‚Äî –°—Ç–∏–≤ –î–∂–æ–±—Å"
    ]
    
    try:
        response = requests.get("https://api.quotable.io/random", timeout=5)
        response.raise_for_status()
        data = response.json()
        
        if 'content' in data and 'author' in data:
            return f"üí¨ \"{data['content']}\" ‚Äî {data['author']}"
        else:
            return f"üí¨ {random.choice(fallback_quotes)}"
            
    except requests.exceptions.Timeout:
        return f"üí¨ {random.choice(fallback_quotes)}\n(–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑-–∑–∞ —Ç–∞–π–º–∞—É—Ç–∞)"
    except requests.exceptions.RequestException:
        return f"üí¨ {random.choice(fallback_quotes)}\n(–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Ç—å—é)"
    except (KeyError, ValueError):
        return f"üí¨ {random.choice(fallback_quotes)}\n(–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ API)"
    except Exception:
        return f"üí¨ {random.choice(fallback_quotes)}\n(–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞)"